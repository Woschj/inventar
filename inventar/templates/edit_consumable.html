{% extends "base.html" %}

{% block title %}Verbrauchsmaterial bearbeiten{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <h1 class="text-2xl font-bold mb-6">Verbrauchsmaterial bearbeiten</h1>
    
    <form method="POST" action="{{ url_for('edit_consumable', barcode=item.barcode) }}" class="max-w-lg">
        <div class="space-y-4">
            <div>
                <label for="barcode" class="block text-sm font-medium text-gray-700">Barcode</label>
                <input type="text" name="barcode" id="barcode" value="{{ item.barcode }}" readonly
                       class="mt-1 block w-full rounded-md border-gray-300 bg-gray-100 shadow-sm">
            </div>
            
            <div>
                <label for="bezeichnung" class="block text-sm font-medium text-gray-700">Bezeichnung</label>
                <input type="text" name="bezeichnung" id="bezeichnung" value="{{ item.bezeichnung }}" required
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
            </div>
            
            <div>
                <label for="typ" class="block text-sm font-medium text-gray-700">Typ</label>
                <input type="text" name="typ" id="typ" value="{{ item.typ }}"
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
            </div>
            
            <div>
                <label for="ort" class="block text-sm font-medium text-gray-700">Ort</label>
                <input type="text" name="ort" id="ort" value="{{ item.ort }}"
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
            </div>
            
            <div>
                <label for="mindestbestand" class="block text-sm font-medium text-gray-700">Mindestbestand</label>
                <input type="number" name="mindestbestand" id="mindestbestand" min="0" value="{{ item.mindestbestand }}"
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
            </div>
            
            <div>
                <label for="aktueller_bestand" class="block text-sm font-medium text-gray-700">Aktueller Bestand</label>
                <input type="number" name="aktueller_bestand" id="aktueller_bestand" min="0" value="{{ item.aktueller_bestand }}"
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
            </div>
            
            <div>
                <label for="einheit" class="block text-sm font-medium text-gray-700">Einheit</label>
                <select name="einheit" id="einheit"
                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    <option value="Stück" {% if item.einheit == 'Stück' %}selected{% endif %}>Stück</option>
                    <option value="Paar" {% if item.einheit == 'Paar' %}selected{% endif %}>Paar</option>
                    <option value="Packung" {% if item.einheit == 'Packung' %}selected{% endif %}>Packung</option>
                    <option value="Set" {% if item.einheit == 'Set' %}selected{% endif %}>Set</option>
                    <option value="Rolle" {% if item.einheit == 'Rolle' %}selected{% endif %}>Rolle</option>
                </select>
            </div>
            
            <div>
                <label for="status" class="block text-sm font-medium text-gray-700">Status</label>
                <select name="status" id="status"
                        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    <option value="">Automatisch (basierend auf Bestand)</option>
                    <option value="Defekt" {% if item.status == 'Defekt' %}selected{% endif %}>Defekt</option>
                </select>
            </div>
        </div>
        
        <div class="mt-6">
            <button type="submit" 
                    class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                Speichern
            </button>
            <a href="{{ url_for('consumables') }}" 
               class="ml-4 px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50">
                Abbrechen
            </a>
        </div>
    </form>
</div>
{% endblock %} 